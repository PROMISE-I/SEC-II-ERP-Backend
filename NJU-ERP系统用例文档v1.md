# NJU-ERP系统用例文档v1

[TOC]

## 引言

### 目的

本文档描述了 NJU-ERP 系统的用户需求。

### 参考文献

1. IEEE标准

## 用例列表

| 参与者       | 用例                                                         |
| :----------- | :----------------------------------------------------------- |
| 库存管理人员 | 1. 库存管理<br />2. 库存盘点<br />3. 库存查看<br />4. 商品分类管理<br />5. 商品管理 |
| 销售员       | 1. 进货管理<br />2. 进货退货管理<br />3. 销售管理<br />4. 销售退货管理<br />5. 客户管理 |
| 销售经理     | 1. 进货管理<br />2. 进货退货管理<br />3. 销售管理<br />4. 销售退货管理<br />5. 客户管理 |
| 财务人员     | 1. 账户管理<br />2. 收款<br />3. 付款<br />4. 工资发放<br />5. 查看销售明细表<br />6. 查看经营历程表<br />7. 查看经营情况表<br />8. 期初建账 |
| 人力资源人员 | 1. 员工管理<br />2. 员工打卡<br />3. 薪酬规则制定            |
| 总经理       | 1. 审批单据<br />2. 制定促销策略<br />3. 制定年终奖          |

## 详细用例描述

TODO：更改表头

### UC1.1 库存管理

| ID       |                                                              |
| -------- | :----------------------------------------------------------- |
| 参与者   | 库存管理人员，方便地提交记录出入库单和库存赠送单，更加高效地接收出入库单据的审核结果，提高库存管理效率<br />总经理，目标是更加高效和方便地审批库存管理人员提交的出库入库单，提高库存管理效率 |
| 触发条件 | 有商品待入库<br />有商品待出库                               |
| 前置条件 | 库存管理人员必须已经被识别和授权<br />总经理必须已经被识别和授权<br />还有没有处理的出入库单、库存赠送单 |
| 后置条件 | 存储出入库单<br />存储库存赠送单<br />更新库存数据           |
| 正常流程 | **1.0 出入库单、库存赠送单填写**<br />1. 系统提示有出入库单、库存赠送单需要库存管理人员提交<br />2. 库存管理人员点击需要处理的出入库单或者库存赠送单列表<br />3. 系统显示状态为未审核和审核失败的出入库单列表或者库存赠送单列表<br />4. 库存管理人员选择一个需要处理的出入库单或者库存赠送单<br />5. 系统显示本次出入库单、库存赠送单的填写界面<br />6. 库存管理人员输入出入库信息、库存赠送信息<br />7. 库存管理人员提交审核<br />8. 系统显示提交审核成功，显示该单据的状态为审核中，并且向总经理出入库审核事务、库存赠送审核事务中添加本次库存管理人员提交的出入库单据、库存赠送单据<br />库存管理人员重复4~8步，直到处置完所有出入库单处置事件、库存赠送单处置事件<br />**1.1 出入库单、库存赠送单审批**<br />1. 系统提示有提交的出入库单、库存赠送单需要总经理处置<br />2. 总经理点击需要处置的出入库单、库存赠送单列表<br />3. 系统显示需要被处置的出入库单、库存赠送单列表<br />4. 总经理选择一个需要处理的出入库单或者库存赠送单<br />5. 系统显示该出入库单据的出入库信息或者库存赠送单的库存赠送信息<br />6. 总经理通过审核<br />    6.a总经理拒绝通过审核：<br />         1. 系统显示拒绝成功，并且在库存管理人员需要处理的出入库单列表或者库存赠送单列表对该出入库单的状态或者库存赠送单的状态从审核中改为审核失败<br />7. 系统显示提交审核结果成功，在库存管理人员需要处理的出入库单列表或者库存赠送单列表对该出入库单或者库存赠送单的状态从审核中改为审核通过<br />总经理重复4~7步，直到处置完所有出入库单处置事件以及所有库存赠送单处置事件<br /><br />**1.3 出入库单、库存赠送单完成**<br />1. 系统提示有状态为审核通过的出入库单、库存赠送单需要库存管理人员处置<br />2. 库存管理人员点击需要处理的出入库单、库存赠送单列表<br />3. 系统显示状态为审核通过的出入库单、库存赠送单列表<br />4. 库存管理人员选择一个需要处理的出入库单、库存赠送单<br />5. 系统显示出入库单的出入库信息、库存赠送单的库存赠送信息<br />6. 库存管理人员在完成现实中商品的进出货后，将该出入库单的状态改为已完成；库存管理人员在完成现实中的商品赠送后，将该库存赠送单的状态改为已完成<br />7. 系统显示修改成功，更新库存数据并且存储该出入库单、库存赠送单<br />库存管理人员重复4~7步，直到处置完所有出入库单处置事件、处置完所有库存赠送单处置事件 |
| 扩展流程 | 1.0.8a.系统显示内容输入有误：<br />        1.保留之前库存管理人员的输入，显示错误信息（包括时间信息为空、商品或者赠品的具体信息为空、操作员不在库存管理人员列表），等待重新输入 |
| 特殊需求 | 1. 出入库单的出入库信息包括：时间、操作员、出/入库类型（出库类型：进货/买家退货，入库类型：减库存/销售），这批商品的具体信息<br />2. 库存赠送信息包括：时间、操作员、赠品的具体信息、赠送的用户信息、赠送原因 |

### UC1.3 库存盘点

| ID       |                                                              |
| -------- | :----------------------------------------------------------- |
| 参与者   | 库存管理人员，目标是了解并分析商品的库存信息，以辅助库存管理。 |
| 触发条件 | 库存管理人员需要了解库存情况                                 |
| 前置条件 | 库存管理人员必须已被识别和授权                               |
| 后置条件 | 如果库存管理人员要求，应该导出库存快照 Excel 文件            |
| 正常流程 | 1. 库存管理人员向系统请求库存盘点<br />2. 系统统计并显示当天的库存快照信息，包括当天的各种商品ID，数量，批次，价格，并且显示行号<br />3. 系统询问是否需要导出 Excel 文件。  <br />	3a. 若库存管理人员选择导出 Excel 文件，则进行导出<br />4. 系统根据库存管理人员的选择导出 Excel 文件或结束本次库存盘点 |
| 扩展流程 | 无                                                           |
| 特殊需求 | 无                                                           |

### UC1.4 库存查看

| ID       |                                                              |
| -------- | :----------------------------------------------------------- |
| 参与者   | 库存管理人员，目标是了解并分析商品的库存信息，以辅助库存管理。 |
| 触发条件 | 库存管理人员需要了解一段时间内库存情况                       |
| 前置条件 | 库存管理人员必须已被识别和授权                               |
| 后置条件 |                                                              |
| 正常流程 | 1.  库存管理人员输入起始日期和终止日期 <br />2. 系统统计并显示此时间段内的出/入库数量/金额/商品信息/分类信息/库存数量合计 |
| 扩展流程 | 1a 库存管理人员输入不合法的起始日期和终止日期 (起始日期大于终止日期/起始日期大于当前日期)<br />    1.系统拒绝查询并显示错误提示 <br />1b 库存管理人员输入的起始日期到终止日期之间的数据不存在<br />    1. 系统显示信息不存在提示<br />    2. 库存管理人员根据实际情况判断是否需要上报维修系统 |
| 特殊需求 | 无                                                           |

### UC1.5 商品分类管理

| ID       |                                                              |
| -------- | :----------------------------------------------------------- |
| 参与者   | 库存管理人员，目标是精确地完成商品分类管理                   |
| 触发条件 | 库存管理人员使用“商品分类管理”功能                           |
| 前置条件 | 库存管理人员必须已被识别和授权                               |
| 后置条件 | 系统更新库存管理人员对于商品分类的更改                       |
| 正常流程 | 1. 系统显示当前所有商品分类，库存管理人员在现有分类中选择一项作为“当前商品分类” <br />2. 库存管理人员在“增加分类”、“删除分类”、“修改分类”三种操作中选择一项 <br />3. 系统创建修改暂存区，与当前商品管理信息相同 <br />4. 根据上一步中库存管理人员的选项进入 4.1、4.2 或 4.3 其中的一项。<br />	4.1 库存管理人员选择“增加分类” <br />		4.1.1 库存管理人员输入商品分类名称等信息 <br />		4.1.2. 在暂存区中，系统在当前商品分类下创建一项商品分类，并为该分类自动生成一个编号 <br />	4.2 若库存管理人员选择“删除分类” <br />		4.2.1 系统在暂存区中删除当前商品分类 <br />	4.3 若库存管理人员管理人员选择“修改分类” <br />		4.3.1库存管理人员需要输入需要修改的信息 <br />		4.3.2 系统根据库存管理人员输入的信息在暂存区中修改当前商品分类的信息 <br />5. 库存管理人员保存修改，系统用暂存区中的内容更新真实商品分类 |
| 扩展流程 | 2a. 若当前商品分类为空，则默认当前分类为“根分类”，用户只能选择“增加分类”（若不为空，则无法选择当前分类为“根分类”）<br />	1. 按照正常流程进入正常流程 4.1 <br />4.1a. 库存管理人员尝试在分类（子分类）下有商品的当前分类下插入新分类 <br />	1.系统拒绝修改，回到正常流程 1 <br />4.1.1a. 库存管理人员输入不合法的商品分类信息 <br />	1. 系统拒绝新建并提示用户重新输入，回到正常流程 4.1.1 <br />4.3.1a. 库存管理人员输入不合法的商品分类信息 <br />	1. 系统拒绝修改并提示用户重新输入，回到正常流程 4.3.1 <br />4(.x.x)-5b. 库存管理人员取消本次更改 <br />	1. 系统删除新建的暂存区，不对当前的商品分类信息进行任何操作 |
| 特殊需求 | 无                                                           |

###   UC1.6 商品管理

| ID       |                                                              |
| -------- | :----------------------------------------------------------- |
| 参与者   | 库存管理人员，目标是精确、快速地完成商品管理                 |
| 触发条件 | 库存管理人员使用“商品管理”功能                               |
| 前置条件 | 库存管理人员必须已被识别和授权                               |
| 后置条件 | 系统更新库存管理人员对于商品的更改                           |
| 正常流程 | 1. 系统（有折叠地）显示当前所有商品和商品种类树状图 <br />2. 库存管理人员选择“增加商品”、“删除商品”、“修改商品”、“查询商品”四种操作中的一项 <br />3. 根据 2 中库存管理人员的选择进入3.1、3.2、3.3 或 3.4 中的一项 <br />	3.1 库存管理人员选择“增加商品” <br />		3.1.1 库存管理人员选中一个商品类别 <br />		3.1.2 库存管理人员输入商品的属性信息 <br />		3.1.3 系统创建商品，并根据分类以及添加次序自动为该商品生成商品编号 <br />	3.2 库存管理人员选择“删除商品” <br />		3.2.1 库存管理人员选择一项商品 <br />		3.2.2 系统删除该商品 <br />	3.3 库存管理人员选择“修改商品” <br />		3.3.1 库存管理人员选择一项商品 <br />		3.3.2 库存管理人员输入修改后的商品属性信息 <br />		3.3.3 系统对该商品进行修改 <br />	3.4 库存管理人员选择“查询商品” <br />		3.4.1 库存管理人员输入查询关键词（可以是商品编号、名称等，支持模糊查找）<br />		3.4.2 系统按照推荐算法向库存管理人员列出查询到的所有商品及其部分信息（可能为空） |
| 扩展流程 | 2.1a 系统中没有合法的商品分类时，不能选择“增加商品” <br />	1.按照正常流程进入正常流程 3.2、3.3 或 3.4 中的一项 <br />2.1b 系统中没有商品时，不能选择“删除商品”或“修改商品” <br />	1. 按照正常流程进入正常流程 3.1 或 3.4 中的一项 <br />3.1.1a 库存管理人员选中了一个不合法的商品类别（比如非叶节点）<br />	1. 系统拒绝选择并提示，返回正常流程 3.1.1 <br />3.1.2a.库存管理人员输入了不合法的商品属性信息 <br />	1. 系统拒绝选择并提示，返回正常流程 3.1.2 <br />3.3.2a 系统管理人员输入了不合法的商品属性信息 <br />	1. 系统拒绝输入并提示，返回正常流程 3.3.2 <br />3(.x.x)b 库存管理人员取消操作 <br />	1. 系统放弃所有操作，结束用例 |
| 特殊需求 | 无                                                           |

### UC2.1 进货管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 销售管理人员（销售员、销售经理），总经理，目标是快速、正确地完成进货操作 |
| 触发条件 | 有商品准备进货                                               |
| 前置条件 | 销售管理人员必须已经被识别或授权                             |
| 后置条件 | 系统记录商品进货并修改库存                                   |
| 正常流程 | 1. 销售管理人员向系统申请创建进货单<br />2. 系统显示可选择的供应商<br />3. 销售管理人员选择供应商<br />4. 销售管理人员选择商品编号，输入商品数量、商品单价、填写备注<br />5. 重复第 4 步，直到完成此次进货所有商品的记录<br />6. 销售管理人员填写进货备注<br />7. 完成创建进货单<br />8. 销售经理对进货单进行一级审批<br />9. 总经理对进货单进行二级审批<br />10. 进货完成，系统记录商品进货并修改库存 |
| 扩展流程 | 8a. 对于未通过审批的进货单，不再进行后续审批                 |
| 特殊需求 | 无                                                           |

### UC2.2 进货退货管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 销售管理人员（销售员、销售经理），目标是快速、正确地完成进货操作 |
| 触发条件 | 有商品准备进货退货                                           |
| 前置条件 | 销售管理人员必须已经被识别或授权                             |
| 后置条件 | 系统记录商品进货退货并修改库存                               |
| 正常流程 | 1. 销售管理人员向系统申请创建进货单<br />2. 系统显示可选择的进货单编号<br />3. 销售管理人员选择要退货的进货单编号<br />4. 系统显示选中进货单的数量、单价<br />5. 销售管理人员填写进货退货备注<br />6. 完成创建进货退货单<br />7. 销售经理对进货退货单进行一级审批<br />8. 总经理对进货退货单进行二级审批<br />9. 进货退货完成，系统记录商品进货退货并修改库存 |
| 扩展流程 | 7a. 对于未通过审批的进货退货单，不再进行后续审批             |
| 特殊需求 | 无                                                           |

### UC2.3 销售管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 销售管理人员（销售员、销售经理），目标是快速、正确地完成销售操作 |
| 触发条件 | 有商品准备销售                                               |
| 前置条件 | 销售管理人员必须已经被识别或授权                             |
| 后置条件 | 系统记录商品销售并修改库存                                   |
| 正常流程 | 1. 销售管理人员向系统申请创建销售单<br />2. 系统显示可选择的销售商<br />3. 销售管理人员选择销售商<br />4. 销售管理人员输入折扣、代金券总额<br />5. 销售管理人员选择商品编号，输入商品数量、商品单价、填写备注<br />6. 重复第 4 步，直到完成此次进货所有商品的记录<br />7. 销售管理人员填写销售备注<br />8. 完成创建销售单<br />9. 销售经理对销售单进行一级审批<br />10. 总经理对销售单进行二级审批<br />11. 进货完成，系统记录商品进货并修改库存 |
| 扩展流程 | 无                                                           |
| 特殊需求 | 无                                                           |

### UC2.4 销售退货管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 销售管理人员（销售员、销售经理），目标是快速、正确地完成销售退货操作 |
| 触发条件 | 有商品准备销售退货                                           |
| 前置条件 | 销售管理人员必须已经被识别或授权                             |
| 后置条件 | 系统记录商品销售退货并修改库存                               |
| 正常流程 | 1. 销售管理人员向系统申请创建销售退货单<br />2. 系统显示可选择的销售单编号<br />3. 销售管理人员选择要退货的销售单编号<br />4. 系统显示选中销售单的数量、单价<br />5. 销售管理人员填写销售退货备注<br />6. 完成创建销售退货单<br />7. 销售经理对销售退货单进行一级审批<br />8. 总经理对销售退货单进行二级审批<br />9. 销售退货完成，系统记录商品销售退货并修改库存 |
| 扩展流程 | 无                                                           |
| 特殊需求 | 无                                                           |

### UC2.5 客户管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 销售管理人员（销售员、销售经理），目标是快速、正确地进行对客户的增删改查 |
| 触发条件 | 需要进行对客户增删改查                                       |
| 前置条件 | 销售管理人员必须已经被识别或授权                             |
| 后置条件 | 系统显示查看的客户信息或系统记录客户修改操作                 |
| 正常流程 | 1.0 新增客户<br />	1. 销售管理人员向系统申请新增客户<br />	2. 系统提示销售管理人员选择客户类型，输入姓名、级别、电话、地址、邮编、邮箱、应收额度、应收、应付、操作员<br />	3.销售管理人员选择客户类型，输入姓名、级别、电话、地址、邮编、邮箱、应收额度、应收、应付、操作员<br />	4. 销售管理人员确认新增<br />	5. 系统新建客户并保存客户信息 |
| 扩展流程 | 1.1 删除客户<br />	1. 销售管理人员选择待删除客户，向系统申请删除客户<br />	2. 系统提示销售管理人员确认删除客户<br />	3. 系统删除客户<br />1.2 修改客户信息<br />	1. 销售管理人员选择待修改客户，向系统申请修改客户信息<br />	2. 系统显示客户信息<br />	3. 销售管理人员编辑客户信息<br />	4. 销售管理人员确认修改 |
| 特殊需求 | 无                                                           |

### UC3.1 账户管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 财务人员，目标是快速、正确地进行对账户的增删改查             |
| 触发条件 | 需要进行对账户增删改查                                       |
| 前置条件 | 财务人员必须已经被识别或授权                                 |
| 后置条件 | 系统显示查看的账户属性或系统记录账户修改操作                 |
| 正常流程 | 1.0 新增账户<br />	1. 财务人员向系统申请新增账户<br />	2. 系统提示财务人员输入账户名称、金额<br />	3. 财务人员输入账户名称、金额<br />	4. 系统提示财务人员确认新增账户<br />	5. 财务人员确认新增账户<br />	6. 系统保存账户信息 |
| 扩展流程 | 1.1 删除账户<br />	1. 财务人员选择待删除客户，向系统申请删除账户<br />	2. 系统提示财务人员确认删除账户<br />	3. 系统删除账户<br />1.2 修改账户属性<br />	1. 财务人员选择待修改账户，向系统申请修改账户属性<br />	2. 系统显示账户属性<br />	3. 财务人员编辑账户属性<br />	4. 财务人员确认修改账户属性 |
| 特殊需求 | 无                                                           |

### UC3.2 收款

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 财务人员，目标是快速、正确地进行收款                         |
| 触发条件 | 需要进行收款                                                 |
| 前置条件 | 财务人员必须已经被识别或授权                                 |
| 后置条件 | 系统记录收款并更改账户数据                                   |
| 正常流程 | 1. 财务人员向系统申请制定收款单<br />2. 系统提示财务人员选择客户输入收款单信息<br />3. 财务人员选择客户<br />4. 财务人员选择银行账户、输入转账金额、填写备注<br />5. 重复第 4 步，直到处理完所有转账列表项<br />6. 财务人员确认创建收款单<br />7. 系统记录收款单，修改账户数据 |
| 扩展流程 |                                                              |
| 特殊需求 |                                                              |

### UC3.3 付款

| ID       |                                              |
| -------- | -------------------------------------------- |
| 参与者   | 财务人员，目标是快速、正确地进行付款         |
| 触发条件 | 需要进行付款                                 |
| 前置条件 | 财务人员必须已经被识别或授权                 |
| 后置条件 | 系统显示查看的客户信息或系统记录客户修改操作 |
| 正常流程 |                                              |
| 扩展流程 |                                              |
| 特殊需求 |                                              |

### UC3.4 工资发放

| ID       |                                          |
| -------- | ---------------------------------------- |
| 参与者   | 财务人员，目标是快速、正确地进行工资发放 |
| 触发条件 | 需要进行对工资发放                       |
| 前置条件 | 财务人员必须已经被识别或授权             |
| 后置条件 | 系统制定工资单                           |
| 正常流程 |                                          |
| 扩展流程 |                                          |
| 特殊需求 |                                          |

### UC3.5 查看销售明细表

### UC3.6 查看经营历程表

### UC3.7 查看经营情况表

### UC3.8 期初建账

### UC4.1 员工管理

| ID       |                                                              |
| -------- | ------------------------------------------------------------ |
| 参与者   | 人力资源人员，目标是快速、正确地进行对员工信息进行增删改查   |
| 触发条件 | 需要进行对员工信息进行增删改查                               |
| 前置条件 | 人力资源人员必须已经被识别或授权                             |
| 后置条件 | 系统显示查看的员工属性或系统记录员工修改操作                 |
| 正常流程 | 1.0 新增员工<br />	1. 人力资源人员向系统申请新增员工<br />	2. 系统提示人力资源人员输入员工姓名、性别、出生日期、手机号、职位、工资卡账户<br />	3. 人力资源人员输入员工姓名、性别、出生日期、手机号、职位、工资卡账户<br />	4. 系统提示人力资源人员确认新增员工<br />	5. 人力资源人员确认新增员工<br />	6. 系统保存员工信息 |
| 扩展流程 | 1.1 删除员工<br />	1. 人力资源人员选择待删除客户，向系统申请删除员工<br />	2. 系统提示人力资源人员确认删除员工<br />	3. 系统删除员工<br />1.2 修改员工属性<br />	1. 人力资源人员选择待修改员工，向系统申请修改员工属性<br />	2. 系统显示员工属性<br />	3. 人力资源人员编辑员工属性<br />	4. 人力资源人员确认修改员工属性 |
| 特殊需求 | 无                                                           |

### UC4.2 员工打卡

### UC4.3 薪酬规则制定

### UC5.1 审批单据

### UC5.2 制定促销策略

### UC5.3 制定年终奖